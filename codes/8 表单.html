<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"></script>
    <script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>
</head>

<body>
    <div id="root"></div>
    <div id="root2"></div>
    <div id="root3"></div>
    <div id="root4"></div>
    <div id="root5"></div>

    <script type="text/babel">
        //受控组件
        //<input type="text">, <textarea> 和 <select> 之类的标签都非常相似————它们都接受一个 value 属性，你可以使用它来实现受控组件
        class NameFrom extends React.Component {
            constructor(props) {
                super(props);
                this.state = { value: '' }
                this.handleChange = this.handleChange.bind(this);
                this.handleSubmit = this.handleSubmit.bind(this);
            }

            handleChange(event) {
                this.setState({ value: event.target.value });//实时更新state的值
            }

            handleSubmit(event) {
                alert('提交的数据：' + this.state.value);
                event.preventDefault();

            }

            render() {
                return (
                    <form onSubmit={this.handleSubmit}>
                        <label>
                            名字：<input type="text" value={this.state.value} onChange={this.handleChange} />
                        </label>
                        <input type="submit" value='提交' />
                    </form>
                );
            }
        }

        ReactDOM.render(
            <NameFrom />,
            document.getElementById('root')
        );

        //textarea标签
        class EassyFrom extends React.Component {
            constructor(props) {
                super(props);
                this.handleChange = this.handleChange.bind(this);
                this.handleSubmit = this.handleSubmit.bind(this);
                this.state = { value: '写点什么吧' };
            }

            handleChange(event) {
                this.setState({ value: event.target.value });
            }

            handleSubmit(event) {
                alert('提交的内容：' + this.state.value);
                event.preventDefault();
            }

            render() {
                return (
                    <form onSubmit={this.handleSubmit}>
                        <label>
                            <textarea cols="30" rows="10" onChange={this.handleChange} value={this.state.value} />
                        </label>
                        <input type="submit" value="提交" />
                    </form>
                );
            }

        }

        ReactDOM.render(
            <EassyFrom />,
            document.getElementById('root2')

        );

        //select标签
        class FlavorFrom extends React.Component {
            constructor(props) {
                super(props);
                this.handleChange = this.handleChange.bind(this);
                this.handleSubmit = this.handleSubmit.bind(this);
                this.state = { value: 'apple' }

            }

            handleChange(event) {
                this.setState({ value: event.target.value });
            }

            handleSubmit(event) {
                alert('your favorite fruit is ' + this.state.value);
                event.preventDefault();
            }

            render() {
                return (
                    <form onSubmit={this.handleSubmit}>
                        <label>
                            choose your favorite flavor:
                            <select value={this.state.value} onChange={this.handleChange}>
                                <option value="grape">grape</option>
                                <option value="apple">apple</option>
                                <option value="coconut">coconut</option>
                                <option value="mango">mango</option>
                            </select>
                        </label>
                        <input type="submit" value="提交" />
                    </form>
                );
            }
        }

        ReactDOM.render(
            <FlavorFrom />,
            document.getElementById('root3')
        );

        //处理多个输入
        //当需要处理多个 input 元素时，我们可以给每个元素添加 name 属性，并让处理函数根据 event.target.name 的值选择要执行的操作
        class Reservation extends React.Component {
            constructor(props) {
                super(props);
                this.state = {
                    isGoing: true,
                    numberOfGuests: 2
                };
                this.handleInputChange = this.handleInputChange.bind(this);
            }

            handleInputChange(event) {
                const target = event.target;
                const value = target.name === 'isGoing' ? target.checked : target.value;
                const name = target.name;
                console.log(event);

                this.setState({
                    [name]: value
                });
            }

            render() {
                return (
                    <form>
                        <label>
                            参与：<input name="isGoing" type="checkbox" checked={this.isGoing} onChange={this.handleInputChange} />
                        </label>
                        <br />
                        <label>
                            来宾人数：<input name="numberOfGuests" type="number" min={0} value={this.state.numberOfGuests} onChange={this.handleInputChange} />
                        </label>
                    </form>

                );
            }
        }

        ReactDOM.render(
            <Reservation />,
            document.getElementById('root4')
        );

    </script>

</body>

</html>